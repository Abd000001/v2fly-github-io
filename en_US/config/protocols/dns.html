<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DNS | V2Fly.org</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="apple-touch-icon" size="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" size="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" size="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" color="#5bbad5" href="/safari-pinned-tab.svg">
    <meta name="description" content="Project V is a collection of tools that can help you build your own basic communication network">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta name="apple-mobile-web-app-title" content="Project V">
    <meta name="application-name" content="Project V">
    <meta name="msapplication-TileColor" content="#da532c">
    
    <link rel="preload" href="/assets/css/0.styles.d72e43c9.css" as="style"><link rel="preload" href="/assets/js/app.71692292.js" as="script"><link rel="preload" href="/assets/js/3.21417aa6.js" as="script"><link rel="preload" href="/assets/js/6.86334a57.js" as="script"><link rel="preload" href="/assets/js/60.3fda5103.js" as="script"><link rel="prefetch" href="/assets/js/10.c245746a.js"><link rel="prefetch" href="/assets/js/100.5e691f65.js"><link rel="prefetch" href="/assets/js/101.3c0c2cb6.js"><link rel="prefetch" href="/assets/js/102.b358fdcb.js"><link rel="prefetch" href="/assets/js/103.00add99c.js"><link rel="prefetch" href="/assets/js/104.e1d99f61.js"><link rel="prefetch" href="/assets/js/105.21a23584.js"><link rel="prefetch" href="/assets/js/106.e22c9bc0.js"><link rel="prefetch" href="/assets/js/107.74e48d41.js"><link rel="prefetch" href="/assets/js/108.30189508.js"><link rel="prefetch" href="/assets/js/109.0bebb75f.js"><link rel="prefetch" href="/assets/js/11.d5945671.js"><link rel="prefetch" href="/assets/js/110.7cd9c385.js"><link rel="prefetch" href="/assets/js/111.69b245f9.js"><link rel="prefetch" href="/assets/js/112.c0abaf6a.js"><link rel="prefetch" href="/assets/js/113.d73fd849.js"><link rel="prefetch" href="/assets/js/114.2c997a51.js"><link rel="prefetch" href="/assets/js/115.1a21b52c.js"><link rel="prefetch" href="/assets/js/116.269df2b4.js"><link rel="prefetch" href="/assets/js/117.64799c99.js"><link rel="prefetch" href="/assets/js/118.9e549b58.js"><link rel="prefetch" href="/assets/js/119.cc5939e0.js"><link rel="prefetch" href="/assets/js/12.995b5cae.js"><link rel="prefetch" href="/assets/js/120.d178195e.js"><link rel="prefetch" href="/assets/js/121.fd8b3c94.js"><link rel="prefetch" href="/assets/js/122.70998691.js"><link rel="prefetch" href="/assets/js/123.7428feeb.js"><link rel="prefetch" href="/assets/js/124.73f72f43.js"><link rel="prefetch" href="/assets/js/125.823e7755.js"><link rel="prefetch" href="/assets/js/126.b0065809.js"><link rel="prefetch" href="/assets/js/127.20694455.js"><link rel="prefetch" href="/assets/js/128.de54f97c.js"><link rel="prefetch" href="/assets/js/129.bbaa029c.js"><link rel="prefetch" href="/assets/js/13.6d34fbab.js"><link rel="prefetch" href="/assets/js/130.a83cdfb4.js"><link rel="prefetch" href="/assets/js/131.c9de9684.js"><link rel="prefetch" href="/assets/js/132.190ef4bc.js"><link rel="prefetch" href="/assets/js/133.7401333c.js"><link rel="prefetch" href="/assets/js/134.c5d6b988.js"><link rel="prefetch" href="/assets/js/135.d2a84927.js"><link rel="prefetch" href="/assets/js/14.56741a34.js"><link rel="prefetch" href="/assets/js/15.f3f9023a.js"><link rel="prefetch" href="/assets/js/16.4b84dd8b.js"><link rel="prefetch" href="/assets/js/17.4f499a1b.js"><link rel="prefetch" href="/assets/js/18.e562efea.js"><link rel="prefetch" href="/assets/js/19.dda7da21.js"><link rel="prefetch" href="/assets/js/20.acd9aae4.js"><link rel="prefetch" href="/assets/js/21.d69813d7.js"><link rel="prefetch" href="/assets/js/22.00632b2a.js"><link rel="prefetch" href="/assets/js/23.dec43b71.js"><link rel="prefetch" href="/assets/js/24.e4785877.js"><link rel="prefetch" href="/assets/js/25.5b3af7eb.js"><link rel="prefetch" href="/assets/js/26.78532e86.js"><link rel="prefetch" href="/assets/js/27.9882abdf.js"><link rel="prefetch" href="/assets/js/28.87a56723.js"><link rel="prefetch" href="/assets/js/29.7de98d2c.js"><link rel="prefetch" href="/assets/js/30.67ed537c.js"><link rel="prefetch" href="/assets/js/31.b138684e.js"><link rel="prefetch" href="/assets/js/32.c16f2498.js"><link rel="prefetch" href="/assets/js/33.5ddf7ea4.js"><link rel="prefetch" href="/assets/js/34.89843167.js"><link rel="prefetch" href="/assets/js/35.6f89e906.js"><link rel="prefetch" href="/assets/js/36.46aba1da.js"><link rel="prefetch" href="/assets/js/37.523292ea.js"><link rel="prefetch" href="/assets/js/38.f77d4d36.js"><link rel="prefetch" href="/assets/js/39.a71671de.js"><link rel="prefetch" href="/assets/js/4.aba52a62.js"><link rel="prefetch" href="/assets/js/40.1028c09a.js"><link rel="prefetch" href="/assets/js/41.2f84d1d5.js"><link rel="prefetch" href="/assets/js/42.09c81d6a.js"><link rel="prefetch" href="/assets/js/43.b33590c3.js"><link rel="prefetch" href="/assets/js/44.0f63fa48.js"><link rel="prefetch" href="/assets/js/45.0cadaa57.js"><link rel="prefetch" href="/assets/js/46.8e109daf.js"><link rel="prefetch" href="/assets/js/47.40f9b220.js"><link rel="prefetch" href="/assets/js/48.bd27cf1c.js"><link rel="prefetch" href="/assets/js/49.3bc6bb6b.js"><link rel="prefetch" href="/assets/js/5.d1f468ef.js"><link rel="prefetch" href="/assets/js/50.4d4a37be.js"><link rel="prefetch" href="/assets/js/51.725ce8fa.js"><link rel="prefetch" href="/assets/js/52.5c5a36d1.js"><link rel="prefetch" href="/assets/js/53.4e2ea0ad.js"><link rel="prefetch" href="/assets/js/54.f0e44880.js"><link rel="prefetch" href="/assets/js/55.0b4a8ccb.js"><link rel="prefetch" href="/assets/js/56.8989eeb0.js"><link rel="prefetch" href="/assets/js/57.34bbd691.js"><link rel="prefetch" href="/assets/js/58.ed77e881.js"><link rel="prefetch" href="/assets/js/59.bf940b0a.js"><link rel="prefetch" href="/assets/js/61.42aa6ba0.js"><link rel="prefetch" href="/assets/js/62.8ddd03cc.js"><link rel="prefetch" href="/assets/js/63.c473d734.js"><link rel="prefetch" href="/assets/js/64.ace790f5.js"><link rel="prefetch" href="/assets/js/65.f2f2e42a.js"><link rel="prefetch" href="/assets/js/66.f99bb20d.js"><link rel="prefetch" href="/assets/js/67.befe56c9.js"><link rel="prefetch" href="/assets/js/68.7c24db25.js"><link rel="prefetch" href="/assets/js/69.19952f52.js"><link rel="prefetch" href="/assets/js/7.8e03dca8.js"><link rel="prefetch" href="/assets/js/70.be5d174f.js"><link rel="prefetch" href="/assets/js/71.24980f7e.js"><link rel="prefetch" href="/assets/js/72.63a34885.js"><link rel="prefetch" href="/assets/js/73.5f61562a.js"><link rel="prefetch" href="/assets/js/74.8a469d51.js"><link rel="prefetch" href="/assets/js/75.b5510e7e.js"><link rel="prefetch" href="/assets/js/76.e1686d01.js"><link rel="prefetch" href="/assets/js/77.6d2aaf57.js"><link rel="prefetch" href="/assets/js/78.a427e02d.js"><link rel="prefetch" href="/assets/js/79.8b322706.js"><link rel="prefetch" href="/assets/js/8.8f12d198.js"><link rel="prefetch" href="/assets/js/80.4cff9196.js"><link rel="prefetch" href="/assets/js/81.e459ba0c.js"><link rel="prefetch" href="/assets/js/82.69ad7ed0.js"><link rel="prefetch" href="/assets/js/83.93c8f98c.js"><link rel="prefetch" href="/assets/js/84.bee926eb.js"><link rel="prefetch" href="/assets/js/85.35ab15e4.js"><link rel="prefetch" href="/assets/js/86.e6e85eb3.js"><link rel="prefetch" href="/assets/js/87.fd48c7df.js"><link rel="prefetch" href="/assets/js/88.01561e49.js"><link rel="prefetch" href="/assets/js/89.1fdded1b.js"><link rel="prefetch" href="/assets/js/9.625e2be0.js"><link rel="prefetch" href="/assets/js/90.45651800.js"><link rel="prefetch" href="/assets/js/91.3d0783e4.js"><link rel="prefetch" href="/assets/js/92.94f2c715.js"><link rel="prefetch" href="/assets/js/93.ea17916d.js"><link rel="prefetch" href="/assets/js/94.cf684fed.js"><link rel="prefetch" href="/assets/js/95.b725ad3a.js"><link rel="prefetch" href="/assets/js/96.ab302315.js"><link rel="prefetch" href="/assets/js/97.6a2a742a.js"><link rel="prefetch" href="/assets/js/98.e3360d82.js"><link rel="prefetch" href="/assets/js/99.3a2706ea.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.fd6baf40.js">
    <link rel="stylesheet" href="/assets/css/0.styles.d72e43c9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en_US/" class="home-link router-link-active"><img src="/v2ray.png" alt="V2Fly.org" class="logo"> <span class="site-name can-hide">V2Fly.org</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en_US/guide/start.html" class="nav-link">
  Quick Start
</a></div><div class="nav-item"><a href="/en_US/config/overview.html" class="nav-link">
  Config Reference
</a></div><div class="nav-item"><a href="/en_US/awesome/tools.html" class="nav-link">
  Tools
</a></div><div class="nav-item"><a href="/en_US/developer/intro/compile.html" class="nav-link">
  Developer Guide
</a></div><div class="nav-item"><a href="https://guide.v2fly.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  New concise guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/config/protocols/dns.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en_US/config/protocols/dns.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <a href="https://github.com/v2fly" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en_US/guide/start.html" class="nav-link">
  Quick Start
</a></div><div class="nav-item"><a href="/en_US/config/overview.html" class="nav-link">
  Config Reference
</a></div><div class="nav-item"><a href="/en_US/awesome/tools.html" class="nav-link">
  Tools
</a></div><div class="nav-item"><a href="/en_US/developer/intro/compile.html" class="nav-link">
  Developer Guide
</a></div><div class="nav-item"><a href="https://guide.v2fly.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  New concise guide
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="选择语言" class="dropdown-title"><span class="title">选择语言</span> <span class="arrow down"></span></button> <button type="button" aria-label="选择语言" class="mobile-dropdown-title"><span class="title">选择语言</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/config/protocols/dns.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/en_US/config/protocols/dns.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li></ul></div></div> <a href="https://github.com/v2fly" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Config Reference</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en_US/config/overview.html" class="sidebar-link">Configuration File Format</a></li><li><a href="/en_US/config/dns.html" class="sidebar-link">DNS Server</a></li><li><a href="/en_US/config/outbounds.html" class="sidebar-link">Outbounds</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Protocols</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en_US/config/protocols/blackhole.html" class="sidebar-link">Blackhole</a></li><li><a href="/en_US/config/protocols/dns.html" aria-current="page" class="active sidebar-link">DNS</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en_US/config/protocols/dns.html#outboundconfigurationobject" class="sidebar-link">OutboundConfigurationObject</a></li></ul></li><li><a href="/en_US/config/protocols/dokodemo.html" class="sidebar-link">Dokodemo-door</a></li><li><a href="/en_US/config/protocols/freedom.html" class="sidebar-link">Freedom</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Transport</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dns"><a href="#dns" class="header-anchor">#</a> DNS</h1> <ul><li>Name: <code>dns</code></li> <li>Type: Outbound Protocol</li></ul> <p>DNS is an outbound protocol, mainly used to intercept and forward DNS queries. This outbound protocol can only receive DNS traffic (including queries based on UDP and TCP protocols), and other types of traffic will cause errors.</p> <p>When processing DNS queries, this outbound protocol will forward IP queries (ie A and AAAA) to the built-in [DNS server] (../dns.md). Other types of query traffic will be forwarded to their original destination address.</p> <p>DNS outbound protocol was introduced in V2Ray 4.15.</p> <h2 id="outboundconfigurationobject"><a href="#outboundconfigurationobject" class="header-anchor">#</a> OutboundConfigurationObject</h2> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;network&quot;</span><span class="token operator">:</span> <span class="token string">&quot;tcp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.1.1.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">53</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p><code>network</code>: &quot;tcp&quot; | &quot;udp&quot;</p></blockquote> <p>(V2Ray 4.16+) Modify the transport layer protocol of DNS traffic. The optional values are <code>&quot;tcp&quot;</code> and <code>&quot;udp&quot;</code>. When not specified, the transmission mode of the source remains unchanged.</p> <blockquote><p><code>address</code>: address</p></blockquote> <p>(V2Ray 4.16+) Modify the DNS server address. When not specified, keep the address specified in the source unchanged.</p> <blockquote><p><code>port</code>: number</p></blockquote> <p>(V2Ray 4.16+) Modify the DNS server port. When not specified, keep the port specified in the source unchanged.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/v2fly/v2fly-github-io/edit/master/docs/en_US/config/protocols/dns.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/4/2020, 7:45:42 AM</span></div></footer> <div class="contributors" style="display:none;" data-v-6000aab7><span data-v-6000aab7>Contributors</span> </div> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en_US/config/protocols/blackhole.html" class="prev">
        Blackhole
      </a></span> <span class="next"><a href="/en_US/config/protocols/dokodemo.html">
        Dokodemo-door
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.71692292.js" defer></script><script src="/assets/js/3.21417aa6.js" defer></script><script src="/assets/js/6.86334a57.js" defer></script><script src="/assets/js/60.3fda5103.js" defer></script>
  </body>
</html>
